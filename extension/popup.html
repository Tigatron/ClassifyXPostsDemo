<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>X 书签智能分类</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main>
      <header class="popup-header">
        <h1>X 书签智能分类</h1>
        <button id="settings-button" class="ghost" type="button" title="打开设置">⚙ 设置</button>
      </header>
      <p class="hint">请在 X (Twitter) 书签页打开插件，系统将自动提取、摘要并分类所有收藏的帖子。</p>
      <section class="status-panel" aria-live="polite">
        <div class="status-row">
          <span class="status-label">提取</span>
          <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" id="progress-extract-bar">
            <div class="progress-inner" id="progress-extract"></div>
          </div>
          <span class="status-value" id="progress-extract-text">0%</span>
        </div>
        <div class="status-row">
          <span class="status-label">摘要</span>
          <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" id="progress-summarize-bar">
            <div class="progress-inner" id="progress-summarize"></div>
          </div>
          <span class="status-value" id="progress-summarize-text">0%</span>
        </div>
        <div class="status-row">
          <span class="status-label">分类</span>
          <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" id="progress-classify-bar">
            <div class="progress-inner" id="progress-classify"></div>
          </div>
          <span class="status-value" id="progress-classify-text">0%</span>
        </div>
        <p id="stage-message" class="stage-message">尚未开始。</p>
        <p id="eta-message" class="eta-message"></p>
        <p id="status" class="status-text"></p>
      </section>
      <section class="actions">
        <button id="classify-button" type="button">▶ 开始自动分类</button>
        <select id="export-format" aria-label="导出格式">
          <option value="markdown">Markdown</option>
          <option value="json">JSON</option>
          <option value="csv">CSV</option>
        </select>
        <button id="copy-button" type="button" disabled>📋 复制</button>
        <button id="download-button" type="button" disabled>💾 下载</button>
        <button id="preview-button" type="button" disabled>👀 预览</button>
      </section>
      <section id="metrics" class="metrics" hidden>
        <div>
          <span class="metric-label">书签总数</span>
          <span class="metric-value" id="metric-total">0</span>
        </div>
        <div>
          <span class="metric-label">摘要完成</span>
          <span class="metric-value" id="metric-summarized">0</span>
        </div>
        <div>
          <span class="metric-label">分类数</span>
          <span class="metric-value" id="metric-categories">0</span>
        </div>
      </section>
      <section id="results"></section>
    </main>
    <script type="module" src="popup.js"></script>
  </body>
</html>
